<!doctype html>
<html>
<head>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
</head>
<body>
    <p>Name</p>
    <input id="name" type="text"></input>

    <p>Room id</p>
    <input id="room" type="text"></input>
    <button id="send" onclick="joinRoom()">
        Send
    </button><BR>
    
    <textarea id="log" cols=100 rows=50>
    </textarea>
    <script>
var sock = new WebSocket("ws://127.0.0.1:18080/ws");

sock.onopen = ()=>{
    console.log('open')
}
sock.onerror = (e)=>{
    console.log('error',e)
}
sock.onclose = (e)=>{
    console.log('close', e)
}
sock.onmessage = (e)=>{
    $("#log").val(
            e.data +"\n" + $("#log").val());
}

function joinRoom()
{
    room = document.getElementById("room").value
    name = document.getElementById("name").value
    sock.send("J" + room + ":" + name);
}

</script>
</body>
</html>